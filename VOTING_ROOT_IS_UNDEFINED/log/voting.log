2016-08-11 18:15:39,783 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:15:39,804 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:15:39,808 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@78186a70, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee, org.springframework.test.context.support.DirtiesContextTestExecutionListener@545997b1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4cf4d528, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77846d2c]
2016-08-11 18:15:39,982 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:15:40,297 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:15:40,405 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@276438c9: startup date [Thu Aug 11 18:15:40 MSK 2016]; root of context hierarchy
2016-08-11 18:15:40,521 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:15:40,770 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:15:40,787 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:40,826 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:15:40,963 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:15:40,965 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:15:40,967 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:15:41,036 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:15:41,427 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:15:41,731 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:15:41,735 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61861a29
2016-08-11 18:15:42,412 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:15:43,054 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:15:43,334 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:15:43,361 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:15:43,362 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:43,366 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@42b28ff1]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:15:43,384 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:15:43,440 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:15:43,490 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6629ad09: startup date [Thu Aug 11 18:15:43 MSK 2016]; root of context hierarchy
2016-08-11 18:15:43,509 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:15:43,527 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:15:43,543 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:43,544 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:15:43,608 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:15:43,804 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:15:43,806 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61861a29
2016-08-11 18:15:43,856 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:15:43,935 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:15:43,939 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:15:43,939 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:43,941 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@445bb139]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:15:43,953 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:15:43,991 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:15:44,020 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@2d64160c: startup date [Thu Aug 11 18:15:44 MSK 2016]; root of context hierarchy
2016-08-11 18:15:44,038 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:15:44,062 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:15:44,070 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:44,071 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:15:44,117 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:15:44,345 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:15:44,346 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61861a29
2016-08-11 18:15:44,387 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:15:44,457 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:15:44,461 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:15:44,461 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:44,463 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@561953e3]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:15:44,476 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:15:44,517 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:15:44,549 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@64920dc2: startup date [Thu Aug 11 18:15:44 MSK 2016]; root of context hierarchy
2016-08-11 18:15:44,564 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:15:44,580 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:15:44,588 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:44,588 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:15:44,628 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:15:44,761 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:15:44,762 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@61861a29
2016-08-11 18:15:44,821 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:15:44,881 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:15:44,887 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:15:44,887 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:15:44,889 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@318c68d5]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:17:25,150 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:17:25,171 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:17:25,175 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@78186a70, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee, org.springframework.test.context.support.DirtiesContextTestExecutionListener@545997b1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4cf4d528, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77846d2c]
2016-08-11 18:17:25,320 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:17:25,583 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:17:25,700 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@276438c9: startup date [Thu Aug 11 18:17:25 MSK 2016]; root of context hierarchy
2016-08-11 18:17:25,857 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:17:26,158 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:17:26,210 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:26,240 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:17:26,421 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:17:26,426 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:17:26,429 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:17:26,517 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:17:26,938 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:17:27,180 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:17:27,183 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3f23a3a0
2016-08-11 18:17:27,672 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:17:28,137 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:17:28,408 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:17:28,417 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:17:28,418 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:28,423 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@66420549]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:17:28,437 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:17:28,479 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:17:28,515 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@4c18621b: startup date [Thu Aug 11 18:17:28 MSK 2016]; root of context hierarchy
2016-08-11 18:17:28,533 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:17:28,548 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:17:28,557 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:28,557 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:17:28,592 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:17:28,783 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:17:28,784 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3f23a3a0
2016-08-11 18:17:28,832 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:17:28,905 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:17:28,909 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:17:28,909 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:28,910 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@5db6b845]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:17:28,920 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:17:28,955 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:17:29,022 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@b9a77c8: startup date [Thu Aug 11 18:17:29 MSK 2016]; root of context hierarchy
2016-08-11 18:17:29,047 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:17:29,063 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:17:29,076 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:29,077 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:17:29,117 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:17:29,288 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:17:29,289 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3f23a3a0
2016-08-11 18:17:29,337 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:17:29,413 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:17:29,419 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:17:29,419 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:29,420 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@794366a5]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:17:29,431 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:17:29,477 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:17:29,516 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@443faa85: startup date [Thu Aug 11 18:17:29 MSK 2016]; root of context hierarchy
2016-08-11 18:17:29,531 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:17:29,546 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:17:29,553 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:29,554 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:17:29,591 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:17:29,770 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:17:29,771 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3f23a3a0
2016-08-11 18:17:29,814 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:17:29,878 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:17:29,883 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:17:29,884 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:17:29,885 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@306279ee] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@7e91ed74]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:18:41,112 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:18:41,134 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:18:41,135 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6ec8211c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7276c8cd, org.springframework.test.context.support.DirtiesContextTestExecutionListener@544a2ea6, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2e3fc542, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@150c158]
2016-08-11 18:18:41,251 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:18:41,500 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:18:41,600 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@60438a68: startup date [Thu Aug 11 18:18:41 MSK 2016]; root of context hierarchy
2016-08-11 18:18:41,745 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:18:41,975 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:18:42,007 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:42,080 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:18:42,234 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:18:42,237 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:18:42,239 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:18:42,332 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:18:42,773 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:18:42,991 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:18:42,995 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@841e575
2016-08-11 18:18:43,472 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:18:43,969 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:18:44,217 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:18:44,224 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:18:44,225 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:44,228 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7276c8cd] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@481e91b6]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:18:44,240 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:18:44,277 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:18:44,317 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@66420549: startup date [Thu Aug 11 18:18:44 MSK 2016]; root of context hierarchy
2016-08-11 18:18:44,339 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:18:44,353 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:18:44,361 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:44,361 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:18:44,399 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:18:44,561 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:18:44,562 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@841e575
2016-08-11 18:18:44,621 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:18:44,724 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:18:44,728 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:18:44,729 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:44,730 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7276c8cd] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@1e9469b8]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:18:44,737 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:18:44,811 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:18:44,874 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@79e66b2f: startup date [Thu Aug 11 18:18:44 MSK 2016]; root of context hierarchy
2016-08-11 18:18:44,899 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:18:44,925 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:18:44,953 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:44,954 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:18:45,021 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:18:45,193 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:18:45,194 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@841e575
2016-08-11 18:18:45,247 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:18:45,318 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:18:45,324 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:18:45,325 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:45,326 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7276c8cd] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@46f902e0]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:18:45,339 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:18:45,379 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:18:45,410 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@7165d530: startup date [Thu Aug 11 18:18:45 MSK 2016]; root of context hierarchy
2016-08-11 18:18:45,426 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:18:45,450 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:18:45,460 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:45,461 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:18:45,506 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:18:45,659 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:18:45,660 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@841e575
2016-08-11 18:18:45,709 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:18:45,755 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:18:45,758 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:18:45,759 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:18:45,760 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7276c8cd] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@78fe204a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:19:33,876 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:19:33,896 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:19:33,899 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@71248c21, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@442675e1, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6166e06f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@49e202ad, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1c72da34]
2016-08-11 18:19:33,979 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:19:34,141 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:19:34,234 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@4206a205: startup date [Thu Aug 11 18:19:34 MSK 2016]; root of context hierarchy
2016-08-11 18:19:34,331 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:19:34,486 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:19:34,501 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:34,522 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:19:34,603 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:19:34,605 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:19:34,608 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:19:34,652 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:19:34,909 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:19:35,150 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:19:35,153 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@114a85c2
2016-08-11 18:19:35,603 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:19:36,075 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:19:36,312 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:19:36,324 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:19:36,325 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:36,329 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@442675e1] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@278667fd]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 48 common frames omitted
2016-08-11 18:19:36,337 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:19:36,396 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:19:36,435 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@10823d72: startup date [Thu Aug 11 18:19:36 MSK 2016]; root of context hierarchy
2016-08-11 18:19:36,454 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:19:36,468 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:19:36,480 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:36,482 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:19:36,521 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:19:36,671 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:19:36,672 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@114a85c2
2016-08-11 18:19:36,716 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:19:36,793 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:19:36,797 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:19:36,798 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:36,800 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@442675e1] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@5ad5be4a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 48 common frames omitted
2016-08-11 18:19:36,803 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:19:36,837 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:19:36,869 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@3ad85136: startup date [Thu Aug 11 18:19:36 MSK 2016]; root of context hierarchy
2016-08-11 18:19:36,884 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:19:36,898 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:19:36,907 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:36,908 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:19:36,940 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:19:37,084 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:19:37,085 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@114a85c2
2016-08-11 18:19:37,134 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:19:37,184 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:19:37,187 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:19:37,188 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:37,189 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@442675e1] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@7377781e]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 48 common frames omitted
2016-08-11 18:19:37,193 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:19:37,226 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:19:37,251 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@31db34da: startup date [Thu Aug 11 18:19:37 MSK 2016]; root of context hierarchy
2016-08-11 18:19:37,264 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:19:37,277 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:19:37,285 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:37,286 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:19:37,339 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:19:37,454 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:19:37,454 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@114a85c2
2016-08-11 18:19:37,501 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:19:37,556 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:19:37,561 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:19:37,562 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:19:37,563 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@442675e1] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@235b4cb8]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 48 common frames omitted
2016-08-11 18:23:24,337 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:23:24,358 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:23:24,360 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:23:24,540 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:23:24,736 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:23:24,846 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:23:24 MSK 2016]; root of context hierarchy
2016-08-11 18:23:24,981 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:23:25,423 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:23:25,444 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:23:25,484 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:23:25,657 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:23:25,660 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:23:25,663 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:23:25,745 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:23:26,253 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:23:26,484 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:23:26,487 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4ef27d66
2016-08-11 18:23:26,936 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:23:27,465 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:23:27,724 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:23:27,733 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:23:27,734 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:23:27,738 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@5a2bd7c8]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:27:25,035 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:27:25,046 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:27:25,056 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6c3f5566, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12405818, org.springframework.test.context.support.DirtiesContextTestExecutionListener@314c508a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@10b48321, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6b67034]
2016-08-11 18:27:25,137 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:27:25,302 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:27:25,383 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@2b4a2ec7: startup date [Thu Aug 11 18:27:25 MSK 2016]; root of context hierarchy
2016-08-11 18:27:25,480 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:27:25,661 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:27:25,678 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:27:25,699 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:27:25,781 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:27:25,784 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:27:25,786 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:27:25,830 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:27:26,100 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:27:26,330 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:27:26,332 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@66971f6b
2016-08-11 18:27:26,793 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:27:27,264 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:27:27,546 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/initDB.sql]
2016-08-11 18:27:27,558 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
2016-08-11 18:27:27,559 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:27:27,563 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@12405818] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@158f4cfe]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/initDB.sql]: DROP TABLE IF EXISTS users; nested exception is org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: удалить объект таблица users нельзя, так как от него зависят другие объекты
  Подробности: ограничение meals_user_id_fkey в отношении таблица meals зависит от объекта таблица users
  Подсказка: Для удаления зависимых объектов используйте DROP ... CASCADE.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 48 common frames omitted
2016-08-11 18:29:46,626 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:29:46,644 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:29:46,646 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:29:46,777 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:29:46,987 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:29:47,153 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:29:47 MSK 2016]; root of context hierarchy
2016-08-11 18:29:47,310 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:29:47,528 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:29:47,549 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:29:47,589 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:29:47,816 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:29:47,817 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:29:47,820 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:29:47,884 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:29:48,264 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:29:48,468 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:29:48,478 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@4ef27d66
2016-08-11 18:29:48,911 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:29:49,393 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:29:49,709 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:29:49,716 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
2016-08-11 18:29:49,717 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:29:49,721 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47b67fcb]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:30:35,710 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:30:35,731 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:30:35,733 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:30:35,878 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:30:36,091 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:30:36,195 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@5c5eefef]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 19 in XML document from class path resource [spring/spring-db.xml] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 19; columnNumber: 32; cvc-complex-type.2.4.b: The content of element 'jdbc:initialize-database' is not complete. One of '{"http://www.springframework.org/schema/jdbc":script}' is expected.
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadBeanDefinitions(AbstractGenericContextLoader.java:253)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:122)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content of element 'jdbc:initialize-database' is not complete. One of '{"http://www.springframework.org/schema/jdbc":script}' is expected.
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:134)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator$XSIErrorReporter.reportError(XMLSchemaValidator.java:452)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.reportSchemaError(XMLSchemaValidator.java:3230)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidComplexType(XMLSchemaValidator.java:3206)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.elementLocallyValidType(XMLSchemaValidator.java:3153)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.processElementContent(XMLSchemaValidator.java:3055)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleEndElement(XMLSchemaValidator.java:2134)
	at com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.endElement(XMLSchemaValidator.java:853)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1783)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2970)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:606)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:118)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:848)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)
	at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)
	... 42 common frames omitted
2016-08-11 18:30:47,524 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:30:47,549 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:30:47,552 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:30:47,712 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:30:47,947 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:30:48,037 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:30:48 MSK 2016]; root of context hierarchy
2016-08-11 18:30:48,185 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:30:48,411 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:30:48,434 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:30:48,488 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:30:48,693 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:30:48,695 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:30:48,698 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:30:48,792 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:30:49,162 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:30:49,398 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:30:49,400 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:30:49,880 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:30:50,333 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:30:50,708 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:30:50,721 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:30:50,733 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:30:48 MSK 2016]; root of context hierarchy
2016-08-11 18:30:50,734 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:31:38,122 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:31:38,146 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:31:38,147 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@64485a47, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25bbf683, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ec8211c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7276c8cd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@544a2ea6]
2016-08-11 18:31:38,260 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:31:38,520 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:31:38,612 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@50de0926: startup date [Thu Aug 11 18:31:38 MSK 2016]; root of context hierarchy
2016-08-11 18:31:38,763 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:31:38,985 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:31:39,008 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:31:39,041 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:31:39,259 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:31:39,261 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:31:39,264 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:31:39,331 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:31:39,799 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:31:40,014 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:31:40,017 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6d1d4d7
2016-08-11 18:31:40,465 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:31:40,924 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:31:41,202 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@50de0926: startup date [Thu Aug 11 18:31:38 MSK 2016]; root of context hierarchy
2016-08-11 18:31:41,205 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:32:04,471 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:32:04,493 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:32:04,497 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@64485a47, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25bbf683, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ec8211c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7276c8cd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@544a2ea6]
2016-08-11 18:32:04,641 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:32:04,867 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:32:04,962 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@50de0926: startup date [Thu Aug 11 18:32:04 MSK 2016]; root of context hierarchy
2016-08-11 18:32:05,105 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:32:05,367 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:32:05,438 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:32:05,496 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:32:05,669 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:32:05,674 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:32:05,677 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:32:05,761 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:32:06,124 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:32:06,350 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:32:06,353 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@51e4ccb3
2016-08-11 18:32:06,799 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:32:07,253 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:32:07,539 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:32:07,545 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
2016-08-11 18:32:07,545 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:32:07,549 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25bbf683] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@60859f5a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:33:53,423 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:33:53,443 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:33:53,445 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@64485a47, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25bbf683, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ec8211c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7276c8cd, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@544a2ea6]
2016-08-11 18:33:53,565 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:33:53,802 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:33:53,900 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@50de0926: startup date [Thu Aug 11 18:33:53 MSK 2016]; root of context hierarchy
2016-08-11 18:33:54,052 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:33:54,378 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:33:54,415 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:33:54,450 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:33:54,582 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:33:54,585 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:33:54,589 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:33:54,678 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:33:55,097 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:33:55,316 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:33:55,319 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@51e4ccb3
2016-08-11 18:33:55,786 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:33:56,397 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:33:56,728 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:33:56,735 WARN  GenericApplicationContext [AbstractApplicationContext.java:546] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
2016-08-11 18:33:56,736 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:33:56,740 ERROR TestContextManager [TestContextManager.java:231] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@25bbf683] to prepare test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@60859f5a]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:249)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:839)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 29 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.CompositeDatabasePopulator.populate(CompositeDatabasePopulator.java:60)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:108)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:93)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 44 common frames omitted
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 51 common frames omitted
2016-08-11 18:35:32,730 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:35:32,748 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:35:32,750 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:35:32,904 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:35:33,136 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:35:33,238 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:35:33 MSK 2016]; root of context hierarchy
2016-08-11 18:35:33,384 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:35:33,616 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:35:33,637 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:35:33,680 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:35:33,907 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:35:33,909 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:35:33,912 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:35:34,013 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:35:34,511 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:35:34,736 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:35:34,739 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:35:35,206 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:35:35,673 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:35:36,023 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:35:36,041 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB.sql]: DELETE FROM restaurants; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:35:36,055 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:35:33 MSK 2016]; root of context hierarchy
2016-08-11 18:35:36,057 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:36:47,789 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:36:47,807 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:36:47,810 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:36:47,941 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:36:48,172 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:36:48,270 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:36:48 MSK 2016]; root of context hierarchy
2016-08-11 18:36:48,425 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:36:48,656 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:36:48,690 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:36:48,755 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:36:48,936 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:36:48,937 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:36:48,940 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:36:49,007 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:36:49,411 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:36:49,632 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:36:49,635 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:36:50,097 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:36:50,563 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:36:50,918 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB0.sql]
2016-08-11 18:36:50,929 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB0.sql]: INSERT INTO restaurants(name) VALUES ('Restaurant1'), ('Restaurant2'), ('Restaurant3'); nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:36:50,941 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:36:48 MSK 2016]; root of context hierarchy
2016-08-11 18:36:50,943 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:37:11,486 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:37:11,510 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:37:11,512 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:37:11,676 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:37:11,878 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:37:11,984 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:37:11 MSK 2016]; root of context hierarchy
2016-08-11 18:37:12,121 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:37:12,472 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:37:12,505 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:37:12,543 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:37:12,715 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:37:12,717 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:37:12,720 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:37:12,785 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:37:13,147 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:37:13,367 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:37:13,370 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:37:13,829 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:37:14,283 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:37:14,681 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB0.sql]
2016-08-11 18:37:14,691 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB0.sql]: INSERT INTO restaurants(name) VALUES ('Restaurant1'), ('Restaurant2'), ('Restaurant3'); nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:37:14,705 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:37:11 MSK 2016]; root of context hierarchy
2016-08-11 18:37:14,707 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:37:49,584 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:37:49,605 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:37:49,607 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:37:49,740 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:37:49,981 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:37:50,090 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:37:50 MSK 2016]; root of context hierarchy
2016-08-11 18:37:50,252 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:37:50,493 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:37:50,513 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:37:50,545 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:37:50,772 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:37:50,774 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:37:50,777 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:37:50,849 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:37:51,237 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:37:51,476 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:37:51,478 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:37:51,940 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:37:52,377 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:37:52,713 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB0.sql]
2016-08-11 18:37:52,723 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB0.sql]: INSERT INTO restaurants(name) VALUES ('Restaurant1'), ('Restaurant2'), ('Restaurant3'); nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "restaurants" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:37:52,736 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:37:50 MSK 2016]; root of context hierarchy
2016-08-11 18:37:52,738 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:38:53,500 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:38:53,521 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:38:53,525 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:38:53,680 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:38:53,888 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:38:53,985 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:38:53 MSK 2016]; root of context hierarchy
2016-08-11 18:38:54,130 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:38:54,386 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:38:54,433 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:38:54,492 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:38:54,652 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:38:54,654 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:38:54,657 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:38:54,739 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:38:55,131 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:38:55,367 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:38:55,370 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5f59185e
2016-08-11 18:38:55,830 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:38:56,276 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:38:56,646 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB0.sql]
2016-08-11 18:38:56,655 WARN  TestContextManager [TestContextManager.java:268] Caught exception while allowing TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70] to process 'before' execution of test method [public void mrigor87.votingsystem.service.RestaurantServiceImplTest.update() throws java.lang.Exception] for test instance [mrigor87.votingsystem.service.RestaurantServiceImplTest@47ffe971]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [db/populateDB0.sql]: DELETE FROM user_roles; nested exception is org.postgresql.util.PSQLException: ОШИБКА: отношение "user_roles" не существует
  Позиция: 13
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:494)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:231)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:48)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener$1.doInTransactionWithoutResult(SqlScriptsTestExecutionListener.java:252)
	at org.springframework.transaction.support.TransactionCallbackWithoutResult.doInTransaction(TransactionCallbackWithoutResult.java:34)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:248)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:143)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:113)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:265)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: org.postgresql.util.PSQLException: ОШИБКА: отношение "user_roles" не существует
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2284)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2003)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:200)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:424)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:473)
	... 35 common frames omitted
2016-08-11 18:38:56,668 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:38:53 MSK 2016]; root of context hierarchy
2016-08-11 18:38:56,669 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-11 18:39:32,251 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-11 18:39:32,274 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-11 18:39:32,277 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@149494d8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@710726a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@646007f4, org.springframework.test.context.transaction.TransactionalTestExecutionListener@481a15ff, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78186a70]
2016-08-11 18:39:32,416 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-11 18:39:32,653 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-11 18:39:32,747 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:39:32 MSK 2016]; root of context hierarchy
2016-08-11 18:39:32,899 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-11 18:39:33,127 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-11 18:39:33,161 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-11 18:39:33,243 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-11 18:39:33,450 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-11 18:39:33,453 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-11 18:39:33,456 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-11 18:39:33,551 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-11 18:39:33,952 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-11 18:39:34,186 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-11 18:39:34,189 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@2b62442c
2016-08-11 18:39:34,663 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-11 18:39:35,106 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-11 18:39:35,452 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-11 18:39:35,459 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-11 18:39:35,466 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@101df177: startup date [Thu Aug 11 18:39:32 MSK 2016]; root of context hierarchy
2016-08-11 18:39:35,466 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 12:53:03,245 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 12:53:03,256 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 12:53:03,292 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 12:53:03,460 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 12:53:03,949 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 12:53:04,250 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 12:53:04 MSK 2016]; root of context hierarchy
2016-08-14 12:53:04,480 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 12:53:04,778 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 12:53:04,807 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 12:53:04,827 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 12:53:04,945 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 12:53:04,946 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 12:53:04,948 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 12:53:05,001 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 12:53:05,312 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 12:53:05,577 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 12:53:05,580 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 12:53:06,033 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 12:53:06,519 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 12:53:06,909 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:53:07,005 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 95 ms.
2016-08-14 12:53:07,051 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:53:07,072 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 21 ms.
2016-08-14 12:53:07,120 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:53:07,130 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 12:53:07,195 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:53:07,204 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 12:53:07,207 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 12:53:04 MSK 2016]; root of context hierarchy
2016-08-14 12:53:07,209 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 12:56:59,674 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 12:56:59,694 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 12:56:59,698 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7a36aefa, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@17211155, org.springframework.test.context.support.DirtiesContextTestExecutionListener@b3d7190, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5fdba6f9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10d59286]
2016-08-14 12:56:59,846 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 12:57:00,066 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 12:57:00,161 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@12028586: startup date [Sun Aug 14 12:57:00 MSK 2016]; root of context hierarchy
2016-08-14 12:57:00,307 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 12:57:00,556 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 12:57:00,646 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 12:57:00,688 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 12:57:00,929 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 12:57:00,933 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 12:57:00,936 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 12:57:00,999 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 12:57:01,385 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 12:57:01,618 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 12:57:01,621 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5fb97279
2016-08-14 12:57:02,079 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 12:57:02,556 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 12:57:02,927 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:57:02,934 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 12:57:03,042 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@12028586: startup date [Sun Aug 14 12:57:00 MSK 2016]; root of context hierarchy
2016-08-14 12:57:03,043 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 12:57:14,306 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 12:57:14,322 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 12:57:14,326 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7a36aefa, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@17211155, org.springframework.test.context.support.DirtiesContextTestExecutionListener@b3d7190, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5fdba6f9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10d59286]
2016-08-14 12:57:14,485 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 12:57:14,697 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 12:57:14,831 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@12028586: startup date [Sun Aug 14 12:57:14 MSK 2016]; root of context hierarchy
2016-08-14 12:57:14,973 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 12:57:15,310 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 12:57:15,337 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 12:57:15,389 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 12:57:15,619 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 12:57:15,622 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 12:57:15,624 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 12:57:15,684 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 12:57:16,035 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 12:57:16,262 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 12:57:16,265 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5fb97279
2016-08-14 12:57:16,697 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 12:57:17,151 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 12:57:17,548 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 12:57:17,555 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 12:57:17,617 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@12028586: startup date [Sun Aug 14 12:57:14 MSK 2016]; root of context hierarchy
2016-08-14 12:57:17,619 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:01:29,390 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:01:29,400 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:01:29,411 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 13:01:29,560 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:01:29,767 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:01:29,870 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:01:29 MSK 2016]; root of context hierarchy
2016-08-14 13:01:30,015 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:01:30,310 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:01:30,348 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:01:30,393 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:01:30,576 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:01:30,579 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:01:30,582 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:01:30,661 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:01:31,052 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:01:31,287 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:01:31,290 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 13:01:31,720 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:01:32,169 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:01:32,551 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:01:32,558 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:01:32,630 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:01:32,637 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:01:32,680 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:01:32,703 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 22 ms.
2016-08-14 13:01:32,780 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:01:32,790 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
2016-08-14 13:01:32,793 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:01:29 MSK 2016]; root of context hierarchy
2016-08-14 13:01:32,794 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:04:40,276 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:04:40,290 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:04:40,303 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:04:40,446 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:04:40,703 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:04:40,812 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:04:40 MSK 2016]; root of context hierarchy
2016-08-14 13:04:40,953 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:04:41,223 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:04:41,264 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:04:41,325 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:04:41,516 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:04:41,518 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:04:41,522 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:04:41,605 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:04:42,079 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:04:42,324 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:04:42,328 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:04:42,791 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:04:43,274 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:04:43,685 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:04:43,694 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 13:04:43,853 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:04:40 MSK 2016]; root of context hierarchy
2016-08-14 13:04:43,854 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:05:03,414 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:05:03,429 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:05:03,442 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:05:03,597 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:05:03,817 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:05:03,915 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:05:03 MSK 2016]; root of context hierarchy
2016-08-14 13:05:04,056 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:05:04,347 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:05:04,411 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:05:04,448 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:05:04,672 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:05:04,674 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:05:04,678 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:05:04,761 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:05:05,249 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:05:05,475 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:05:05,479 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:05:05,917 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:05:06,376 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:05:06,796 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:05:06,807 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
2016-08-14 13:05:06,869 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:05:03 MSK 2016]; root of context hierarchy
2016-08-14 13:05:06,871 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:17:49,423 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:17:49,433 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:17:49,444 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:17:49,565 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:17:49,800 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:17:49,889 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:17:49 MSK 2016]; root of context hierarchy
2016-08-14 13:17:50,032 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:17:50,296 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:17:50,376 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:17:50,429 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:17:50,587 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:17:50,591 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:17:50,594 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:17:50,672 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:17:51,063 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:17:51,288 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:17:51,292 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:17:51,752 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:17:52,237 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:17:52,564 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:17:52,571 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:17:52,629 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:17:49 MSK 2016]; root of context hierarchy
2016-08-14 13:17:52,632 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:18:19,650 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:18:19,678 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:18:19,681 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:18:19,875 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:18:20,282 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:18:20,461 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:18:20 MSK 2016]; root of context hierarchy
2016-08-14 13:18:20,694 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:18:21,027 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:18:21,058 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:18:21,082 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:18:21,191 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:18:21,194 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:18:21,196 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:18:21,251 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:18:21,591 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:18:21,862 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:18:21,867 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:18:22,493 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:18:23,180 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:18:23,665 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:18:23,695 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 29 ms.
2016-08-14 13:24:34,046 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:18:20 MSK 2016]; root of context hierarchy
2016-08-14 13:24:34,048 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:25:46,799 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:25:46,825 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:25:46,830 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:25:47,044 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:25:47,330 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:25:47,431 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:25:47 MSK 2016]; root of context hierarchy
2016-08-14 13:25:47,682 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:25:48,172 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:25:48,206 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:25:48,245 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:25:48,426 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:25:48,430 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:25:48,434 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:25:48,524 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:25:48,885 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:25:49,140 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:25:49,144 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:25:49,744 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:25:50,494 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:25:51,001 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:25:51,010 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 13:25:53,091 INFO  DefaultDeleteEventListener [DefaultDeleteEventListener.java:191] HHH000114: Handling transient entity in delete processing
2016-08-14 13:26:01,261 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:25:47 MSK 2016]; root of context hierarchy
2016-08-14 13:26:01,262 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:26:40,636 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:26:40,687 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:26:40,691 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:26:40,868 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:26:41,106 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:26:41,270 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:26:41 MSK 2016]; root of context hierarchy
2016-08-14 13:26:41,634 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:26:42,066 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:26:42,092 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:26:42,121 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:26:42,334 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:26:42,335 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:26:42,337 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:26:42,394 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:26:42,721 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:26:42,981 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:26:42,985 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:26:43,564 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:26:44,187 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:26:44,661 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:26:44,672 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 11 ms.
2016-08-14 13:26:44,708 INFO  DefaultDeleteEventListener [DefaultDeleteEventListener.java:191] HHH000114: Handling transient entity in delete processing
2016-08-14 13:26:46,152 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:26:41 MSK 2016]; root of context hierarchy
2016-08-14 13:26:46,154 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:27:26,925 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:27:26,936 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:27:26,947 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:27:27,073 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:27:27,294 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:27:27,416 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:27:27 MSK 2016]; root of context hierarchy
2016-08-14 13:27:27,604 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:27:27,893 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:27:27,930 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:27:28,008 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:27:28,207 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:27:28,209 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:27:28,215 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:27:28,285 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:27:28,705 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:27:28,909 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:27:28,914 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:27:29,401 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:27:29,846 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:27:30,185 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:27:30,196 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 11 ms.
2016-08-14 13:27:30,243 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:27:27 MSK 2016]; root of context hierarchy
2016-08-14 13:27:30,246 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:29:09,215 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:29:09,247 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:29:09,253 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:29:09,401 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:29:09,578 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:29:09,655 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:29:09 MSK 2016]; root of context hierarchy
2016-08-14 13:29:09,803 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:29:10,019 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:29:10,037 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:29:10,060 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:29:10,167 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:29:10,169 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:29:10,171 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:29:10,232 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:29:10,579 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:29:10,845 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:29:10,850 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:29:11,671 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:29:12,345 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:29:12,771 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:29:12,795 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 24 ms.
2016-08-14 13:33:29,623 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:29:09 MSK 2016]; root of context hierarchy
2016-08-14 13:33:29,625 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:33:45,022 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:33:45,061 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:33:45,065 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:33:45,255 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:33:45,524 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:33:45,647 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:33:45 MSK 2016]; root of context hierarchy
2016-08-14 13:33:46,012 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:33:46,456 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:33:46,483 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:33:46,513 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:33:46,711 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:33:46,713 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:33:46,715 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:33:46,763 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:33:47,107 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:33:47,347 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:33:47,351 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:33:47,945 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:33:48,600 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:33:49,087 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:33:49,094 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:33:52,947 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:33:45 MSK 2016]; root of context hierarchy
2016-08-14 13:33:52,949 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:35:33,076 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:35:33,088 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:35:33,098 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 13:35:33,244 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:35:33,455 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:35:33,553 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:35:33 MSK 2016]; root of context hierarchy
2016-08-14 13:35:33,694 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:35:33,933 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:35:33,959 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:35:34,007 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:35:34,233 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:35:34,236 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:35:34,242 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:35:34,328 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:35:34,848 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:35:35,124 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:35:35,126 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 13:35:35,561 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:35:36,029 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:35:36,422 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:35:36,430 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:35:36,503 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:35:36,505 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:35:36,539 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:35:36,547 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 13:35:36,590 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:35:36,597 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 13:35:36,682 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:35:36,690 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:35:36,716 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:35:33 MSK 2016]; root of context hierarchy
2016-08-14 13:35:36,717 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:35:57,721 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:35:57,733 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:35:57,743 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 13:35:57,895 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:35:58,105 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:35:58,192 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:35:58 MSK 2016]; root of context hierarchy
2016-08-14 13:35:58,340 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:35:58,607 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:35:58,635 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:35:58,675 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:35:58,829 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:35:58,831 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:35:58,834 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:35:58,898 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:35:59,311 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:35:59,547 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:35:59,550 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 13:35:59,991 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:36:00,444 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:36:00,816 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:00,823 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:36:00,883 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:36:00,886 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:36:00,923 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:00,929 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 13:36:00,967 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:00,977 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
2016-08-14 13:36:01,074 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:01,081 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:36:01,110 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 13:35:58 MSK 2016]; root of context hierarchy
2016-08-14 13:36:01,112 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:36:43,298 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:36:43,310 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:36:43,320 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:36:43,470 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:36:43,680 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:36:43,768 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:36:43 MSK 2016]; root of context hierarchy
2016-08-14 13:36:43,903 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:36:44,169 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:36:44,208 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:36:44,288 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:36:44,484 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:36:44,487 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:36:44,507 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:36:44,603 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:36:45,003 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:36:45,226 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:36:45,229 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:36:45,669 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:36:46,092 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:36:46,487 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:46,494 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:36:46,547 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:36:43 MSK 2016]; root of context hierarchy
2016-08-14 13:36:46,548 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:36:52,208 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:36:52,219 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:36:52,227 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:36:52,362 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:36:52,586 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:36:52,677 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:36:52 MSK 2016]; root of context hierarchy
2016-08-14 13:36:52,815 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:36:53,074 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:36:53,093 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:36:53,155 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:36:53,370 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:36:53,373 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:36:53,376 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:36:53,445 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:36:53,884 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:36:54,099 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:36:54,101 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:36:54,520 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:36:54,968 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:36:55,338 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:36:55,345 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 13:36:55,421 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:36:55,424 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:36:55,438 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:36:52 MSK 2016]; root of context hierarchy
2016-08-14 13:36:55,440 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:37:35,758 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:37:35,780 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:37:35,785 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:37:35,951 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:37:36,190 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:37:36,323 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:37:36 MSK 2016]; root of context hierarchy
2016-08-14 13:37:36,628 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:37:37,007 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:37:37,046 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:37:37,081 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:37:37,241 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:37:37,243 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:37:37,246 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:37:37,297 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:37:37,622 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:37:37,854 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:37:37,857 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:37:38,434 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:37:39,016 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:37:39,531 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:37:39,540 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 13:38:12,927 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:38:12,930 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
2016-08-14 13:38:43,685 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:38:43,686 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:53)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
2016-08-14 13:40:06,768 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:40:06,778 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:40:06,789 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:40:06,923 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:40:07,171 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:40:07,249 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:40:07 MSK 2016]; root of context hierarchy
2016-08-14 13:40:07,388 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:40:07,862 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:40:07,916 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:40:07,987 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:40:08,248 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:40:08,252 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:40:08,254 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:40:08,320 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:40:08,778 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:40:09,020 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:40:09,022 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:40:09,470 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:40:09,927 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:40:10,349 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:40:10,358 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 13:40:10,384 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:40:10,386 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:40:10,400 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:40:07 MSK 2016]; root of context hierarchy
2016-08-14 13:40:10,401 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:40:45,031 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:40:45,043 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:40:45,054 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:40:45,219 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:40:45,516 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:40:45,679 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:40:45 MSK 2016]; root of context hierarchy
2016-08-14 13:40:45,842 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:40:46,207 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:40:46,239 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:40:46,284 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:40:46,501 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:40:46,503 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:40:46,507 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:40:46,568 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:40:46,946 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:40:47,158 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:40:47,161 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:40:47,597 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:40:48,052 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:40:48,459 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:40:48,467 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:40:48,483 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:40:48,484 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:291)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:40:48,496 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:40:45 MSK 2016]; root of context hierarchy
2016-08-14 13:40:48,498 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:41:23,148 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:41:23,160 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:41:23,172 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:41:23,319 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:41:23,532 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:41:23,614 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:41:23 MSK 2016]; root of context hierarchy
2016-08-14 13:41:23,875 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:41:24,132 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:41:24,171 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:41:24,245 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:41:24,441 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:41:24,443 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:41:24,445 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:41:24,530 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:41:24,957 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:41:25,191 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:41:25,194 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:41:25,647 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:41:26,066 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:41:26,465 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:41:26,473 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:41:26,485 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:41:26,488 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:41:26,499 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:41:23 MSK 2016]; root of context hierarchy
2016-08-14 13:41:26,501 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:43:47,178 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:43:47,190 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:43:47,201 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:43:47,345 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:43:47,571 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:43:47,709 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:43:47 MSK 2016]; root of context hierarchy
2016-08-14 13:43:47,992 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:43:48,422 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:43:48,453 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:43:48,504 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:43:48,658 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:43:48,661 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:43:48,663 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:43:48,720 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:43:49,086 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:43:49,323 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:43:49,326 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:43:49,784 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:43:50,237 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:43:50,628 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:43:50,639 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 11 ms.
2016-08-14 13:43:50,654 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:43:50,657 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:43:50,670 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:43:47 MSK 2016]; root of context hierarchy
2016-08-14 13:43:50,671 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:44:14,884 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:44:14,917 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:44:14,921 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:44:15,094 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:44:15,350 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:44:15,504 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:44:15 MSK 2016]; root of context hierarchy
2016-08-14 13:44:15,883 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:44:16,284 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:44:16,310 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:44:16,344 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:44:16,533 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:44:16,536 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:44:16,539 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:44:16,588 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:44:16,918 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:44:17,164 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:44:17,167 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:44:17,806 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:44:18,439 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:44:18,919 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:44:19,008 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 88 ms.
2016-08-14 13:44:22,384 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:44:22,387 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
2016-08-14 13:44:22,400 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:44:15 MSK 2016]; root of context hierarchy
2016-08-14 13:44:22,404 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:44:38,009 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:44:38,035 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:44:38,045 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 13:44:38,218 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:44:38,490 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:44:38,602 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:44:38 MSK 2016]; root of context hierarchy
2016-08-14 13:44:38,951 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:44:39,375 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:44:39,405 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:44:39,432 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:44:39,638 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:44:39,640 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:44:39,642 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:44:39,689 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:44:40,019 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:44:40,263 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:44:40,268 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 13:44:40,836 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:44:41,459 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:44:41,959 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:44:41,969 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 13:46:36,519 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:46:36,522 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
2016-08-14 13:46:36,535 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 13:44:38 MSK 2016]; root of context hierarchy
2016-08-14 13:46:36,537 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:46:42,592 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:46:42,603 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:46:42,615 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:46:42,768 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:46:42,967 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:46:43,078 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:46:43 MSK 2016]; root of context hierarchy
2016-08-14 13:46:43,280 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:46:43,750 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:46:43,793 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:46:43,831 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:46:44,037 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:46:44,039 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:46:44,042 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:46:44,123 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:46:44,563 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:46:44,790 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:46:44,793 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:46:45,263 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:46:45,828 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:46:46,174 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:46:46,182 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 13:46:46,196 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:46:46,201 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:46:46,215 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:46:43 MSK 2016]; root of context hierarchy
2016-08-14 13:46:46,216 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:47:10,734 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:47:10,744 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:47:10,752 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:47:10,941 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:47:11,099 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:47:11,172 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:47:11 MSK 2016]; root of context hierarchy
2016-08-14 13:47:11,266 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:47:11,457 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:47:11,476 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:47:11,494 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:47:11,624 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:47:11,627 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:47:11,630 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:47:11,770 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:47:12,240 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:47:12,471 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:47:12,474 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:47:12,895 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:47:13,344 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:47:13,732 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:47:13,741 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 13:47:13,757 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:47:13,759 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:47:13,776 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:47:11 MSK 2016]; root of context hierarchy
2016-08-14 13:47:13,777 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:49:34,251 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:49:34,264 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:49:34,278 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:49:34,442 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:49:34,735 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:49:34,857 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:49:34 MSK 2016]; root of context hierarchy
2016-08-14 13:49:35,068 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:49:35,337 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:49:35,367 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:49:35,451 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:49:35,651 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:49:35,654 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:49:35,656 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:49:35,752 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:49:36,220 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:49:36,489 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:49:36,493 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:49:37,223 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:49:38,000 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:49:38,464 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:49:38,476 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 11 ms.
2016-08-14 13:49:38,494 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:49:38,499 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.saveNew(RestaurantServiceImplTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:49:38,516 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:49:34 MSK 2016]; root of context hierarchy
2016-08-14 13:49:38,521 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:09,480 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:51:09,492 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:51:09,506 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:51:09,655 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:51:09,868 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:51:09,970 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:09 MSK 2016]; root of context hierarchy
2016-08-14 13:51:10,108 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:51:10,361 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:51:10,416 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:10,465 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:51:10,678 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:51:10,681 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:51:10,683 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:51:10,763 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:51:11,194 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:51:11,435 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:51:11,438 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:51:11,888 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:51:12,348 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:51:12,704 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:51:12,711 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 13:51:12,771 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:51:12,773 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:51:12,786 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:09 MSK 2016]; root of context hierarchy
2016-08-14 13:51:12,788 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:26,306 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:51:26,314 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:51:26,324 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:51:26,463 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:51:26,693 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:51:26,789 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:26 MSK 2016]; root of context hierarchy
2016-08-14 13:51:26,927 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:51:27,441 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:51:27,471 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:27,511 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:51:27,743 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:51:27,746 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:51:27,749 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:51:27,830 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:51:28,202 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:51:28,428 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:51:28,431 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:51:28,860 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:51:29,291 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:51:29,690 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:51:29,698 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 13:51:29,758 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:26 MSK 2016]; root of context hierarchy
2016-08-14 13:51:29,760 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:53,267 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 13:51:53,278 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 13:51:53,288 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 13:51:53,411 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 13:51:53,638 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 13:51:53,721 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:53 MSK 2016]; root of context hierarchy
2016-08-14 13:51:53,865 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 13:51:54,091 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 13:51:54,118 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 13:51:54,401 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 13:51:54,653 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 13:51:54,655 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 13:51:54,658 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 13:51:54,745 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 13:51:55,156 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 13:51:55,393 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 13:51:55,395 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 13:51:55,825 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 13:51:56,287 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 13:51:56,697 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 13:51:56,707 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
2016-08-14 13:51:56,782 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 13:51:56,784 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 13:51:56,799 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 13:51:53 MSK 2016]; root of context hierarchy
2016-08-14 13:51:56,800 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:16,613 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:07:16,626 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:07:16,639 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:07:16,780 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:07:16,996 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:07:17,092 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:07:17 MSK 2016]; root of context hierarchy
2016-08-14 14:07:17,244 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:07:17,477 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:07:17,574 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:17,614 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:07:17,759 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:07:17,761 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:07:17,763 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:07:17,852 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:07:18,266 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:07:18,478 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:07:18,481 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:07:18,907 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:07:19,389 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:07:19,771 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:07:19,778 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:07:19,838 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 14:07:19,840 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 14:07:19,854 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:07:17 MSK 2016]; root of context hierarchy
2016-08-14 14:07:19,855 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:29,919 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:07:29,930 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:07:29,942 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:07:30,085 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:07:30,305 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:07:30,397 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:07:30 MSK 2016]; root of context hierarchy
2016-08-14 14:07:30,544 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:07:30,850 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:07:30,890 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:30,934 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:07:31,111 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:07:31,113 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:07:31,121 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:07:31,199 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:07:31,570 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:07:31,811 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:07:31,813 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:07:32,289 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:07:32,743 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:07:33,074 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:07:33,081 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:07:33,142 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 14:07:33,144 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
2016-08-14 14:07:33,153 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:07:30 MSK 2016]; root of context hierarchy
2016-08-14 14:07:33,155 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:37,058 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:07:37,090 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:07:37,095 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 14:07:37,287 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:07:37,546 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:07:37,696 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 14:07:37 MSK 2016]; root of context hierarchy
2016-08-14 14:07:38,093 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:07:38,634 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:07:38,682 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:07:38,724 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:07:39,052 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:07:39,055 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:07:39,057 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:07:39,108 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:07:39,444 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:07:39,684 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:07:39,687 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@59e43e8c
2016-08-14 14:07:40,198 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:07:41,096 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:07:41,568 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:07:41,595 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 27 ms.
2016-08-14 14:08:15,579 ERROR ErrorCounter [ErrorCounter.java:60] line 1:1: unexpected token: Restaurant
2016-08-14 14:08:15,581 ERROR ErrorCounter [ErrorCounter.java:55] line 1:1: unexpected token: Restaurant
antlr.NoViableAltException: unexpected token: Restaurant
	at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:198)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:279)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:187)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:142)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:115)
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:76)
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:150)
	at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:302)
	at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:240)
	at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1907)
	at org.hibernate.jpa.spi.AbstractEntityManagerImpl.createQuery(AbstractEntityManagerImpl.java:305)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:344)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:294)
	at com.sun.proxy.$Proxy51.createQuery(Unknown Source)
	at mrigor87.votingsystem.repository.jpa.JpaRestaurantRepositoryImpl.getAll(JpaRestaurantRepositoryImpl.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
	at com.sun.proxy.$Proxy53.getAll(Unknown Source)
	at mrigor87.votingsystem.service.RestaurantServiceImpl.getAll(RestaurantServiceImpl.java:42)
	at mrigor87.votingsystem.service.RestaurantServiceImplTest.delete(RestaurantServiceImplTest.java:56)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:119)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:234)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:74)
2016-08-14 14:08:20,196 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:08:20,211 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:08:20,222 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:08:20,493 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:08:20,829 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:08:20,962 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:08:20 MSK 2016]; root of context hierarchy
2016-08-14 14:08:21,184 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:08:21,555 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:08:21,631 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:08:21,697 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:08:21,983 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:08:21,988 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:08:21,991 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:08:22,147 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:08:22,930 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:08:23,274 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:08:23,277 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:08:24,305 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:08:25,020 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:08:25,537 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:08:25,549 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 12 ms.
2016-08-14 14:08:25,751 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:08:20 MSK 2016]; root of context hierarchy
2016-08-14 14:08:25,754 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:08:44,240 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:08:44,251 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:08:44,261 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:08:44,427 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:08:44,634 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:08:44,728 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:08:44 MSK 2016]; root of context hierarchy
2016-08-14 14:08:44,856 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:08:45,104 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:08:45,142 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:08:45,229 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:08:45,401 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:08:45,404 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:08:45,406 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:08:45,489 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:08:45,921 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:08:46,148 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:08:46,151 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 14:08:46,626 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:08:47,069 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:08:47,429 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:08:47,436 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:08:47,563 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:08:47,571 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:08:47,605 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:08:47,613 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:08:47,674 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:08:47,680 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
2016-08-14 14:08:47,705 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:08:44 MSK 2016]; root of context hierarchy
2016-08-14 14:08:47,706 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:17:21,273 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:17:21,286 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:17:21,295 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:17:21,424 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:17:21,664 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:17:21,761 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:17:21 MSK 2016]; root of context hierarchy
2016-08-14 14:17:21,920 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:17:22,150 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:17:22,201 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:17:22,257 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:17:22,450 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:17:22,452 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:17:22,455 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:17:22,541 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:17:22,963 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:17:23,179 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:17:23,182 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:17:23,650 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:17:24,115 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:17:24,522 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:17:24,530 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:17:24,693 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:17:21 MSK 2016]; root of context hierarchy
2016-08-14 14:17:24,697 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:18:07,426 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:18:07,435 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:18:07,445 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:18:07,574 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:18:07,799 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:18:07,884 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:18:07 MSK 2016]; root of context hierarchy
2016-08-14 14:18:08,035 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:18:08,261 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:18:08,290 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:18:08,368 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:18:08,553 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:18:08,556 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:18:08,559 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:18:08,644 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:18:09,070 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:18:09,286 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:18:09,288 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:18:09,711 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:18:10,174 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:18:10,560 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:18:10,582 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 22 ms.
2016-08-14 14:18:10,719 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:18:07 MSK 2016]; root of context hierarchy
2016-08-14 14:18:10,720 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:23:18,075 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:23:18,087 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:23:18,099 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5d11346a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7a36aefa, org.springframework.test.context.support.DirtiesContextTestExecutionListener@17211155, org.springframework.test.context.transaction.TransactionalTestExecutionListener@b3d7190, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5fdba6f9]
2016-08-14 14:23:18,289 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:23:18,566 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:23:18,698 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:23:18 MSK 2016]; root of context hierarchy
2016-08-14 14:23:18,842 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:23:19,291 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:23:19,328 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:23:19,372 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:23:19,580 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:23:19,583 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:23:19,586 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:23:19,657 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:23:20,005 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:23:20,239 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:23:20,242 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@5ab14cb9
2016-08-14 14:23:20,688 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:23:21,150 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:23:21,597 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:23:21,608 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
2016-08-14 14:23:21,812 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@290dbf45: startup date [Sun Aug 14 14:23:18 MSK 2016]; root of context hierarchy
2016-08-14 14:23:21,814 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:24:21,573 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:24:21,596 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:24:21,599 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3232a28a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@73e22a3d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@47faa49c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@28f2a10f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@f736069]
2016-08-14 14:24:21,768 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:24:22,005 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:24:22,127 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 14:24:22 MSK 2016]; root of context hierarchy
2016-08-14 14:24:22,549 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:24:23,024 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:24:23,048 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:24:23,095 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:24:23,347 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:24:23,350 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:24:23,352 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:24:23,406 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:24:23,724 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:24:23,952 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:24:23,954 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3531f3ca
2016-08-14 14:24:24,557 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:24:25,275 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:24:25,765 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:24:25,773 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:26:27,162 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@51c668e3: startup date [Sun Aug 14 14:24:22 MSK 2016]; root of context hierarchy
2016-08-14 14:26:27,164 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:26:35,152 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:26:35,164 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:26:35,174 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:26:35,321 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:26:35,587 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:26:35,690 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:26:35 MSK 2016]; root of context hierarchy
2016-08-14 14:26:35,839 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:26:36,067 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:26:36,090 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:26:36,135 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:26:36,745 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:26:36,747 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:26:36,750 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:26:36,819 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:26:37,274 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:26:37,497 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:26:37,500 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 14:26:37,978 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:26:38,538 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:26:38,901 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:26:38,909 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:26:39,037 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:26:39,043 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:26:39,172 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:26:39,179 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:26:39,249 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:26:39,255 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:26:39,312 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:26:35 MSK 2016]; root of context hierarchy
2016-08-14 14:26:39,314 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:27:36,073 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:27:36,088 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:27:36,097 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:27:36,262 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:27:36,470 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:27:36,564 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:27:36 MSK 2016]; root of context hierarchy
2016-08-14 14:27:36,685 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:27:36,976 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:27:37,006 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:27:37,052 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:27:37,276 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:27:37,278 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:27:37,281 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:27:37,370 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:27:37,820 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:27:38,064 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:27:38,068 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 14:27:38,497 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:27:38,960 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:27:39,333 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:27:39,341 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:27:39,472 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:27:39,480 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:27:39,603 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:27:39,611 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:27:39,668 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:27:39,674 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
2016-08-14 14:27:39,728 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:27:36 MSK 2016]; root of context hierarchy
2016-08-14 14:27:39,730 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:29:55,705 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:29:55,719 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:29:55,728 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:29:55,858 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:29:56,089 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:29:56,191 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:29:56 MSK 2016]; root of context hierarchy
2016-08-14 14:29:56,335 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:29:56,562 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:29:56,593 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:29:56,630 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:29:56,874 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:29:56,876 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:29:56,879 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:29:56,986 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:29:57,430 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:29:57,658 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:29:57,662 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 14:29:58,176 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:29:58,676 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:29:59,047 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:29:59,055 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:29:59,185 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:29:59,194 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:29:59,321 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:29:59,328 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:29:59,388 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:29:59,395 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:29:59,450 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:29:56 MSK 2016]; root of context hierarchy
2016-08-14 14:29:59,451 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:30:27,371 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:30:27,385 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:30:27,396 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:30:27,517 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:30:27,754 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:30:27,840 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:30:27 MSK 2016]; root of context hierarchy
2016-08-14 14:30:27,978 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:30:28,238 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:30:28,274 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:30:28,359 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:30:28,528 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:30:28,530 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:30:28,531 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:30:28,630 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:30:29,040 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:30:29,281 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:30:29,284 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3af17be2
2016-08-14 14:30:29,693 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:30:30,137 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:30:30,560 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:30:30,567 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:30:30,695 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:30:30,703 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:30:30,828 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:30:30,837 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 14:30:30,894 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:30:30,900 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
2016-08-14 14:30:30,956 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:30:27 MSK 2016]; root of context hierarchy
2016-08-14 14:30:30,957 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:31:09,525 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:31:09,542 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:31:09,556 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@581ac8a8, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6d4e5011, org.springframework.test.context.support.DirtiesContextTestExecutionListener@57d7f8ca, org.springframework.test.context.transaction.TransactionalTestExecutionListener@76c3e77a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78123e82]
2016-08-14 14:31:09,738 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:31:10,002 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:31:10,106 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@273e7444: startup date [Sun Aug 14 14:31:10 MSK 2016]; root of context hierarchy
2016-08-14 14:31:10,312 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:31:10,740 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:31:10,796 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:31:10,856 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:31:11,039 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:31:11,042 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:31:11,044 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:31:11,125 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:31:11,530 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:31:11,762 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:31:11,768 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@3e3861d7
2016-08-14 14:31:12,335 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:31:12,973 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:31:13,478 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:31:13,488 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 9 ms.
2016-08-14 14:31:17,441 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:31:17,448 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:31:29,522 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:31:29,530 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:31:29,590 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:31:29,597 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:31:30,592 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@273e7444: startup date [Sun Aug 14 14:31:10 MSK 2016]; root of context hierarchy
2016-08-14 14:31:30,593 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 14:35:28,136 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 14:35:28,147 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 14:35:28,157 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4c762604, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2641e737, org.springframework.test.context.support.DirtiesContextTestExecutionListener@727803de, org.springframework.test.context.transaction.TransactionalTestExecutionListener@704921a5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@df27fae]
2016-08-14 14:35:28,297 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 14:35:28,519 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 14:35:28,606 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:35:28 MSK 2016]; root of context hierarchy
2016-08-14 14:35:28,743 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 14:35:28,963 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 14:35:28,991 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 14:35:29,021 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 14:35:29,251 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 14:35:29,253 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 14:35:29,256 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 14:35:29,335 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 14:35:29,778 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 14:35:29,997 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 14:35:30,000 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@37f21974
2016-08-14 14:35:30,461 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 14:35:30,923 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 14:35:31,298 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,305 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:35:31,381 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,388 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:35:31,499 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,505 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:35:31,614 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,620 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:35:31,670 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,677 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 7 ms.
2016-08-14 14:35:31,726 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 14:35:31,732 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
2016-08-14 14:35:31,788 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@6e2c9341: startup date [Sun Aug 14 14:35:28 MSK 2016]; root of context hierarchy
2016-08-14 14:35:31,789 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 15:06:24,776 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 15:06:24,784 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 15:06:24,795 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@376b4233, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2fd66ad3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d11346a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7a36aefa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17211155]
2016-08-14 15:06:24,925 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 15:06:25,176 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 15:06:25,279 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:06:25 MSK 2016]; root of context hierarchy
2016-08-14 15:06:25,415 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 15:06:25,717 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 15:06:25,755 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 15:06:25,800 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 15:06:25,999 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 15:06:26,002 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 15:06:26,013 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 15:06:26,101 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 15:06:26,641 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 15:06:26,865 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 15:06:26,867 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@40dd3977
2016-08-14 15:06:27,309 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 15:06:27,768 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 15:06:28,213 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 15:06:28,227 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 13 ms.
2016-08-14 15:06:28,260 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:06:25 MSK 2016]; root of context hierarchy
2016-08-14 15:06:28,262 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 15:06:59,251 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 15:06:59,261 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 15:06:59,272 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@376b4233, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2fd66ad3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d11346a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7a36aefa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17211155]
2016-08-14 15:06:59,398 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 15:06:59,648 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 15:06:59,735 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:06:59 MSK 2016]; root of context hierarchy
2016-08-14 15:06:59,879 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 15:07:00,125 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 15:07:00,159 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 15:07:00,240 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 15:07:00,410 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 15:07:00,412 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 15:07:00,415 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 15:07:00,509 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 15:07:00,978 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 15:07:01,215 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 15:07:01,217 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@40dd3977
2016-08-14 15:07:01,628 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 15:07:02,102 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 15:07:02,523 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 15:07:02,531 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 15:07:02,569 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:06:59 MSK 2016]; root of context hierarchy
2016-08-14 15:07:02,570 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 15:07:28,208 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 15:07:28,219 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 15:07:28,229 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@376b4233, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2fd66ad3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d11346a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7a36aefa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17211155]
2016-08-14 15:07:28,375 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 15:07:28,593 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 15:07:28,692 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:07:28 MSK 2016]; root of context hierarchy
2016-08-14 15:07:28,823 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 15:07:29,082 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 15:07:29,131 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 15:07:29,190 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 15:07:29,426 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 15:07:29,428 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 15:07:29,432 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 15:07:29,520 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 15:07:29,919 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 15:07:30,147 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 15:07:30,150 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@40dd3977
2016-08-14 15:07:30,594 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 15:07:31,022 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 15:07:31,433 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 15:07:31,441 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 15:07:31,484 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:07:28 MSK 2016]; root of context hierarchy
2016-08-14 15:07:31,486 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 15:08:00,884 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 15:08:00,922 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 15:08:00,926 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4d0f2471, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@7133da86, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3232a28a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@73e22a3d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47faa49c]
2016-08-14 15:08:01,115 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 15:08:01,361 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 15:08:01,489 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@a38c7fe: startup date [Sun Aug 14 15:08:01 MSK 2016]; root of context hierarchy
2016-08-14 15:08:01,787 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 15:08:02,240 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 15:08:02,279 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 15:08:02,337 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 15:08:02,569 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 15:08:02,572 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 15:08:02,575 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 15:08:02,680 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 15:08:03,099 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 15:08:03,343 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 15:08:03,347 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@38fc5554
2016-08-14 15:08:03,855 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 15:08:04,470 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 15:08:05,026 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 15:08:05,043 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 16 ms.
2016-08-14 15:08:44,855 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@a38c7fe: startup date [Sun Aug 14 15:08:01 MSK 2016]; root of context hierarchy
2016-08-14 15:08:44,857 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
2016-08-14 15:09:20,770 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:258] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2016-08-14 15:09:20,778 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:207] Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [org/springframework/web/context/request/RequestAttributes]
2016-08-14 15:09:20,789 INFO  DefaultTestContextBootstrapper [AbstractTestContextBootstrapper.java:185] Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@376b4233, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@2fd66ad3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5d11346a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7a36aefa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@17211155]
2016-08-14 15:09:20,923 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-app.xml]
2016-08-14 15:09:21,161 INFO  XmlBeanDefinitionReader [XmlBeanDefinitionReader.java:317] Loading XML bean definitions from class path resource [spring/spring-db.xml]
2016-08-14 15:09:21,242 INFO  GenericApplicationContext [AbstractApplicationContext.java:578] Refreshing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:09:21 MSK 2016]; root of context hierarchy
2016-08-14 15:09:21,399 INFO  PropertyPlaceholderConfigurer [PropertiesLoaderSupport.java:172] Loading properties file from class path resource [db/postgres.properties]
2016-08-14 15:09:21,639 INFO  DriverManagerDataSource [DriverManagerDataSource.java:133] Loaded JDBC driver: org.postgresql.Driver
2016-08-14 15:09:21,669 INFO  LocalContainerEntityManagerFactoryBean [LocalContainerEntityManagerFactoryBean.java:339] Building JPA container EntityManagerFactory for persistence unit 'default'
2016-08-14 15:09:21,705 INFO  LogHelper [LogHelper.java:31] HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2016-08-14 15:09:21,940 INFO  Version [Version.java:37] HHH000412: Hibernate Core {5.1.0.Final}
2016-08-14 15:09:21,943 INFO  Environment [Environment.java:213] HHH000206: hibernate.properties not found
2016-08-14 15:09:21,946 INFO  Environment [Environment.java:317] HHH000021: Bytecode provider name : javassist
2016-08-14 15:09:22,062 INFO  Version [JavaReflectionManager.java:66] HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2016-08-14 15:09:22,585 INFO  Dialect [Dialect.java:156] HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL94Dialect
2016-08-14 15:09:22,830 INFO  LobCreatorBuilderImpl [LobCreatorBuilderImpl.java:124] HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
2016-08-14 15:09:22,833 INFO  BasicTypeRegistry [BasicTypeRegistry.java:138] HHH000270: Type registration [java.util.UUID] overrides previous : org.hibernate.type.UUIDBinaryType@6a1d204a
2016-08-14 15:09:23,270 INFO  Version [Version.java:30] HV000001: Hibernate Validator 5.2.4.Final
2016-08-14 15:09:23,728 INFO  QueryTranslatorFactoryInitiator [QueryTranslatorFactoryInitiator.java:47] HHH000397: Using ASTQueryTranslatorFactory
2016-08-14 15:09:24,088 INFO  ScriptUtils [ScriptUtils.java:444] Executing SQL script from class path resource [db/populateDB.sql]
2016-08-14 15:09:24,096 INFO  ScriptUtils [ScriptUtils.java:510] Executed SQL script from class path resource [db/populateDB.sql] in 8 ms.
2016-08-14 15:09:24,155 INFO  GenericApplicationContext [AbstractApplicationContext.java:960] Closing org.springframework.context.support.GenericApplicationContext@799d4f69: startup date [Sun Aug 14 15:09:21 MSK 2016]; root of context hierarchy
2016-08-14 15:09:24,156 INFO  LocalContainerEntityManagerFactoryBean [AbstractEntityManagerFactoryBean.java:481] Closing JPA EntityManagerFactory for persistence unit 'default'
